<!DOCTYPE html>
<html>
  <head>
    <title>Javascript Dialogs – Watir Project – Watir stands for Web Application Testing In Ruby. It facilitates the writing of automated tests by mimicking the behavior of a user interacting with a website.
</title>

    <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="JavaScript dialogs are fairly common in web applications.

Watir-WebDriver has an inbuilt library for handling the dialogs, and capturing values from the dialogs.

Javascript Alerts

# Check if alert is shown
browser.alert.exists?

# Get text of alert
browser.alert.text

# Close alert
browser.alert.ok
browser.alert.close

Javascript Confirms

# Accept confirm
browser.alert.ok

# Cancel confirm
browser.alert.close

Javascript Prompt

# Enter text to prompt
browser.alert.set 'Prompt answer'

# Accept prompt
browser.alert.ok

# Cancel prompt
browser.alert.close

Alternative Method

If you’re having trouble using the above method, you can override the JavaScript functions to return the value you want, so when they’re meant to show, they don’t!

# don't return anything for alert
browser.execute_script('window.alert = function() {}')

# return some string for prompt to simulate user entering it
browser.execute_script("window.prompt = function() {return 'my name'}")

# return null for prompt to simulate clicking Cancel
browser.execute_script('window.prompt = function() {return null}')

# return true for confirm to simulate clicking OK
browser.execute_script('window.confirm = function() {return true}')

# return false for confirm to simulate clicking Cancel
browser.execute_script('window.confirm = function() {return false}')

# don't return anything for leave page popup
browser.execute_script('window.onbeforeunload = null')

" />
    <meta property="og:description" content="JavaScript dialogs are fairly common in web applications.

Watir-WebDriver has an inbuilt library for handling the dialogs, and capturing values from the dialogs.

Javascript Alerts

# Check if alert is shown
browser.alert.exists?

# Get text of alert
browser.alert.text

# Close alert
browser.alert.ok
browser.alert.close

Javascript Confirms

# Accept confirm
browser.alert.ok

# Cancel confirm
browser.alert.close

Javascript Prompt

# Enter text to prompt
browser.alert.set 'Prompt answer'

# Accept prompt
browser.alert.ok

# Cancel prompt
browser.alert.close

Alternative Method

If you’re having trouble using the above method, you can override the JavaScript functions to return the value you want, so when they’re meant to show, they don’t!

# don't return anything for alert
browser.execute_script('window.alert = function() {}')

# return some string for prompt to simulate user entering it
browser.execute_script("window.prompt = function() {return 'my name'}")

# return null for prompt to simulate clicking Cancel
browser.execute_script('window.prompt = function() {return null}')

# return true for confirm to simulate clicking OK
browser.execute_script('window.confirm = function() {return true}')

# return false for confirm to simulate clicking Cancel
browser.execute_script('window.confirm = function() {return false}')

# don't return anything for leave page popup
browser.execute_script('window.onbeforeunload = null')

" />
    
    <meta name="author" content="Watir Project" />

    
    <meta property="og:title" content="Javascript Dialogs" />
    <meta property="twitter:title" content="Javascript Dialogs" />
    

<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Muli:400,400i,700,700i" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/assets/style.css" />
<link rel="alternate" type="application/rss+xml" title="Watir Project - Watir stands for Web Application Testing In Ruby. It facilitates the writing of automated tests by mimicking the behavior of a user interacting with a website.
" href="/feed.xml" />

<!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>
  <body>
    <header><div class = 'header'>
  <div class = 'logo'>
    <a href = '/'>
      <img src = 'https://raw.githubusercontent.com/watir/watir_logo/master/Logo/Watir_logo.png'/>
    </a>
    <span  class = 'hide-on-mobiles tag-line'>Powered by Selenium</span>
    <span class = 'nav__toggle'><i class="fas fa-bars"></i></span>
  </div>
  <nav class = 'nav'><a href = '/blog/'
      
      >
      News
    </a><a href = '/guides/'
      
      >
      Guides
    </a><a href = '/community/'
      
      >
      Community
    </a><a href = '/help/'
      
      >
      Help
    </a><a href = '/contribute/'
      
      >
      Contribute
    </a><div class = 'custom_search'><script>
  (function() {
    var cx = '014642898046425907042:wbdfsycyxqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search></div>
  </nav>
</div></header><main id = 'main' role = 'main' class = 'container'>
      <div class = 'page grid'>
  <article>
    <h2 class = 'flex-out'>Javascript Dialogs
     <a href = 'https://github.com/watir/watir.github.io/edit/master/_guides/alerts.md'> <i class ='fas fa-edit' title = 'Edit on GitHub'></i></a></h2>
    <p>JavaScript dialogs are fairly common in web applications.</p>

<p>Watir-WebDriver has an inbuilt library for handling the dialogs, and capturing values from the dialogs.</p>

<h3 id="javascript-alerts">Javascript Alerts</h3>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Check if alert is shown</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">exists?</span>

<span class="c1"># Get text of alert</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">text</span>

<span class="c1"># Close alert</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">ok</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">close</span></code></pre></figure>

<h3 id="javascript-confirms">Javascript Confirms</h3>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Accept confirm</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">ok</span>

<span class="c1"># Cancel confirm</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">close</span></code></pre></figure>

<h3 id="javascript-prompt">Javascript Prompt</h3>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Enter text to prompt</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">set</span> <span class="s1">'Prompt answer'</span>

<span class="c1"># Accept prompt</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">ok</span>

<span class="c1"># Cancel prompt</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">alert</span><span class="p">.</span><span class="nf">close</span></code></pre></figure>

<h3 id="alternative-method">Alternative Method</h3>

<p>If you’re having trouble using the above method, you can override the JavaScript functions to return the value you want, so when they’re meant to show, they don’t!</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># don't return anything for alert</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s1">'window.alert = function() {}'</span><span class="p">)</span>

<span class="c1"># return some string for prompt to simulate user entering it</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s2">"window.prompt = function() {return 'my name'}"</span><span class="p">)</span>

<span class="c1"># return null for prompt to simulate clicking Cancel</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s1">'window.prompt = function() {return null}'</span><span class="p">)</span>

<span class="c1"># return true for confirm to simulate clicking OK</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s1">'window.confirm = function() {return true}'</span><span class="p">)</span>

<span class="c1"># return false for confirm to simulate clicking Cancel</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s1">'window.confirm = function() {return false}'</span><span class="p">)</span>

<span class="c1"># don't return anything for leave page popup</span>
<span class="n">browser</span><span class="p">.</span><span class="nf">execute_script</span><span class="p">(</span><span class="s1">'window.onbeforeunload = null'</span><span class="p">)</span></code></pre></figure>


  </article>
  <aside>
  
    <h4>Getting Started</h4>
  <ul>
    <li><a href="/guides/">Watir Guides</a></li>
    <li><a href="http://www.rubydoc.info/gems/watir/">Watir Documentation</a></li>
    <li><a href="/watir-6-faq/">Watir 6 FAQ</a></li>
    <li>Watir Tutorial (Coming soon)</li>
  </ul>
<br />
<h4 style="display: none"><a href="">Donations</a></h4>
<h4 style="display: none"><a href="">Sponsors</a></h4>
<h4><a href="/users/">Companies Using Watir</a></h4>
<br />
<h4><a href="https://soundcloud.com/the-watir-podcast/">The Watir Podcast</a></h4>
<br />
<h4>Blogs</h4>
  <p>Resources with Watir, Ruby or otherwise useful content:</p>
<ul>
  
  <li ><a href = 'http://watirmelon.com/' target='_blank' rel = 'noopener'>Alister Scott – WatirMelon</a></li>
  
  <li ><a href = 'http://angrez.blogspot.com/' target='_blank' rel = 'noopener'>Angrez Singh’s blog</a></li>
  
  <li ><a href = 'http://www.prismnet.com/~wazmo/blog/' target='_blank' rel = 'noopener'>Bret Pettichord – Testing Hotlist Update</a></li>
  
  <li ><a href = 'http://dmcnulla.wordpress.com/' target='_blank' rel = 'noopener'>Dave McNulla – Software Quality Assurance and Test</a></li>
  
  <li ><a href = 'http://www.software-testing.com.au/blog/' target='_blank' rel = 'noopener'>Jared Quinert’s Blog about Ruby and Watir</a></li>
  
  <li ><a href = 'http://www.itreallymatters.net/' target='_blank' rel = 'noopener'>Jarmo Pertman – IT Really Matters</a></li>
  
  <li ><a href = 'http://www.cheezyworld.com/' target='_blank' rel = 'noopener'>Jeff Morgan – CheezyWorld</a></li>
  
  <li ><a href = 'http://jimhmatthews.wordpress.com/' target='_blank' rel = 'noopener'>Jim Matthews – Testing the Limits</a></li>
  
  <li ><a href = 'http://jkotests.wordpress.com/' target='_blank' rel = 'noopener'>Justin Ko – Testing by Justin Ko</a></li>
  
  <li ><a href = 'http://tcfodor.wordpress.com/' target='_blank' rel = 'noopener'>Tiffany Fodor – It’s always something…</a></li>
  
  <li ><a href = 'http://watirtight.com/' target='_blank' rel = 'noopener'>Titus Fortner – Watirtight Testing</a></li>
  
  <li ><a href = 'http://filipin.eu/' target='_blank' rel = 'noopener'>Željko Filipin’s Blog</a></li>
  
</ul>

  
  </aside>
</div>

    </main>
    <footer class = 'footer'>
<div class = 'container footer__inner'>
    
  <a href = 'https://github.com/watir' class = 'footer__link'><i class = 'fab fa-github' target = '_blank' rel = 'noopener'></i></a>

  <a href = 'https://www.twitter.com/watir_team' class = 'footer__link'><i class = 'fab fa-twitter' target = '_blank' rel = 'noopener'></i></a>

  <a href = 'http://stackoverflow.com/tags/watir' class = 'footer__link'><i class = 'fab fa-stack-overflow' target = '_blank' rel = 'noopener'></i></a>

    <p><i class="far fa-copyright"></i> <span id = 'year'></span> Watir</p>
</div></footer>
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-75293890-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/guides/alerts/',
		  'title': 'Javascript Dialogs'
		});
	</script>
	<!-- End Google Analytics -->

<script src = '/assets/index.js'></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script></body>
</html>
