<!DOCTYPE html>
<html>
  <head>
    <title>Cucumber - imperative or declarative? that is the question – Watir Project – Watir stands for Web Application Testing In Ruby. It facilitates the writing of automated tests by mimicking the behavior of a user interacting with a website.
</title>

    <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="
" />
    <meta property="og:description" content="
" />
    
    <meta name="author" content="Watir Project" />

    
    <meta property="og:title" content="Cucumber - imperative or declarative? that is the question" />
    <meta property="twitter:title" content="Cucumber - imperative or declarative? that is the question" />
    

<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Muli:400,400i,700,700i" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/assets/style.css" />
<link rel="alternate" type="application/rss+xml" title="Watir Project - Watir stands for Web Application Testing In Ruby. It facilitates the writing of automated tests by mimicking the behavior of a user interacting with a website.
" href="/feed.xml" />

<!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>
  <body>
    <header><div class = 'header'>
  <div class = 'logo'>
    <a href = '/'>
      <img src = 'https://raw.githubusercontent.com/watir/watir_logo/master/Logo/Watir_logo.png'/>
    </a>
    <span  class = 'hide-on-mobiles tag-line'>Powered by Selenium</span>
    <span class = 'nav__toggle'><i class="fas fa-bars"></i></span>
  </div>
  <nav class = 'nav'><a href = '/blog/'
      
      >
      News
    </a><a href = '/guides/'
      
      >
      Guides
    </a><a href = '/community/'
      
      >
      Community
    </a><a href = '/help/'
      
      >
      Help
    </a><a href = '/contribute/'
      
      >
      Contribute
    </a><div class = 'custom_search'><script>
  (function() {
    var cx = '014642898046425907042:wbdfsycyxqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search></div>
  </nav>
</div></header><main id = 'main' role = 'main' class = 'container'>
      <article>
  <h3>
    <a href = ''>
      Cucumber - imperative or declarative? that is the question
    </a>
  </h3>
  <p class = 'blog__meta'>
    
      Written by: <a href = 'http://watirmelon.com' target = '_blank' rel = 'noopener'> Alister Scott</a>
    
    on December 10, 2010
  </p>
  <div class = 'post-content'>
    <p>
    <!--more-->
<p><strong>Guest post by <a href="http://watirmelon.com">Alister Scott</a></strong></p>

<hr />

<p>I’ve recently been putting some amount of thought into how to write good Cucumber features. One the reasons I love Cucumber so much is its language focus; meaning it makes you think about things like <a href="http://en.wikipedia.org/wiki/Sentence_function">sentence function</a> more than other testing frameworks I have used. One element of sentence function usage in Cucumber that’s important is whether you should write <em>imperative</em> (communicative) or <em>declarative </em>(informative) sentences for your steps. I’ll provide a couple of examples to show the differences.</p>

<p><strong>An imperative (communicative) Cucumber scenario</strong></p>

<p>Scenario: Submit the form with correct data (imperative)
    Given I am on the watir example form
    When I set "What is your name?" to "Alister"
    And I set "What is your story?" to "I like ruby"
    And I set "What testing tool do you like?" to "Watir"
    And I click "Submit"
    Then I should see the message "Thanks! Your response has been recorded."</p>

<p>Each step is a command, or instruction, so it’s pretty clear what is being done.</p>

<p><strong>A declarative (informative) Cucumber scenario</strong></p>

<p>Scenario: Submit the form with correct data (declarative)
    Given I am on the watir example form
    When I submit the form with correct data
    Then I should see the correct message</p>

<p>Each step states an idea, so sometimes it’s not really clear precisely what is being done.</p>

<p><strong>Imperative vs Declarative</strong></p>

<p>There’s some quite good articles about writing Cucumber features/scenarios around. One such <a href="http://benmabey.com/2008/05/19/imperative-vs-declarative-scenarios-in-user-stories.html">article</a> that stood out to me was written in May 2008 about RSpec Story Runner, and whether you should use an imperative or declarative style. The answer is, of course, it depends, but most people tend to lean towards the declarative style, just the way that a lot of programmers prefer <a href="http://en.wikipedia.org/wiki/Declarative_programming">declarative programming</a>. I am actually swinging towards imperative style cucumber features and steps; the reasons for which I will explain below.</p>

<p><strong>Running Imperative Features gives you richer output</strong></p>

<p>With the two examples above, I have kinda cheated, in that the step definitions for the declarative style calls imperative steps. For example, this is the declarative step defintion:</p>

<p>When /^I submit the form with correct data$/ do
    When "I set \"What is your name?\" to \"Alister\""
    And "I set \"What is your story?\" to \"I like ruby\""
    And "I set \"What testing tool do you like?\" to \"Watir\""
    And "I click \"Submit\""
  end</p>

<p>This is all well and good, as you can now have multiple cucumber steps that call the same thing, it’s <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>ish, but the problem is when you run the step “When I submit the form with correct data”, that’s all you get.</p>

<p><a href="http://watirmelon.files.wordpress.com/2010/12/declarative-results.png"><img class="alignleft size-full wp-image-563" title="declarative results" src="http://watirmelon.files.wordpress.com/2010/12/declarative-results.png" alt="" width="640" height="156" /></a></p>

<p>Compare this to the imperative step results, which whilst calling exactly the same code, give you a lot more richness.</p>

<p><a href="http://watirmelon.files.wordpress.com/2010/12/imperative-results.png"><img class="alignleft size-full wp-image-564" title="imperative results" src="http://watirmelon.files.wordpress.com/2010/12/imperative-results.png" alt="" width="640" height="167" /></a></p>

<p><strong>Writing imperative scenarios allow you to utilise things advanced cucumber functionality</strong></p>

<p>Two table based Cucumber features I like using are <a href="https://github.com/aslakhellesoy/cucumber/wiki/scenario-outlines">scenario outlines</a>, and <a href="https://github.com/aslakhellesoy/cucumber/wiki/multiline-step-arguments">multiline step arguments</a>, but these don’t make a lot of sense if you’re using a declarative style.
For example, the imperative scenario could be easily adapted to use a scenario outline, whereas the declarative style would mean writing more declarative steps.</p>

<p>Scenario Outline: Submit the form with correct data (imperative - outline)
    Given I am on the watir example form
    When I set "What is your name?" to ""
    And I set "What is your story?" to ""
    And I set "What testing tool do you like?" to ""
    And I click "Submit"
    Then I should see the message "Thanks! Your response has been recorded."</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Examples:
 | name    | story       | tool     |
 | Alister | I Like ruby | Watir    |
 | Mozart  | I like java | Selenium |
</code></pre></div></div>

<p><strong>Writing declarative scenarios often means hidden detail</strong></p>

<p>As you move to more and more declarative scenarios, more and more details become hidden in cucumber step definitions and library code. As <a href="http://www.software-testing.com.au/blog/2010/08/31/does-cucumber-suck/comment-page-1/#comment-1153">Rasmus pointed out</a> on Jared Quinert’s blog on <a href="http://www.software-testing.com.au/blog/2010/08/31/does-cucumber-suck/">does Cucumber suck</a>:</p>
<blockquote>...tests end up looking like the <em>one test to rule them all</em>™:
Given everything is set up
When I submit correct data
Then everything should be OK</blockquote>
<p><strong>Summary</strong></p>

<p>To wrap up, I’m not saying don’t go declarative, what I am saying is that you lose certain things in Cucumber when you do, but whether this is a big deal or not depends on what you’re trying to get out of it. In the meantime, I’ll continue to experiment and see what works and what doesn’t.</p>

<p>Original article: <a href="http://watirmelon.com/2010/12/10/cucumber-imperative-or-declarative-that-is-the-question/">http://watirmelon.com/2010/12/10/cucumber-imperative-or-declarative-that-is-the-question/</a></p>

    </p>
  </div>
  <div class = 'mb-2'>   
    <h4>Tags:</h4>
    <div class = 'mb-2 mt-2'><a href = '/tag/blogs/' class = 'more more--round'>Blogs</a></div>
  </div>
</article>

    </main>
    <footer class = 'footer'>
<div class = 'container footer__inner'>
    
  <a href = 'https://github.com/watir' class = 'footer__link'><i class = 'fab fa-github' target = '_blank' rel = 'noopener'></i></a>

  <a href = 'https://www.twitter.com/watir_team' class = 'footer__link'><i class = 'fab fa-twitter' target = '_blank' rel = 'noopener'></i></a>

  <a href = 'http://stackoverflow.com/tags/watir' class = 'footer__link'><i class = 'fab fa-stack-overflow' target = '_blank' rel = 'noopener'></i></a>

    <p><i class="far fa-copyright"></i> <span id = 'year'></span> Watir</p>
</div></footer>
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-75293890-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/alister-scott-on-cucumber-imperative-or-declarative-that-is-the-question',
		  'title': 'Cucumber - imperative or declarative? that is the question'
		});
	</script>
	<!-- End Google Analytics -->

<script src = '/assets/index.js'></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script></body>
</html>
